<div class="container" ng-show="isAdmin()">
    <br>
    <br>
    <div class="page-title ">
        <h3>Сообщения</h3>
    </div>
    <br>
    <div class="row">
        <div class="col col-lg-9 col-msgs">
            <table class="table table-hover" cellpadding="0" cellspacing="0">
                <thead class="thead-dark">
                <tr>
                    <th>id</th>
                    <th>кому</th>
                    <th>вложение</th>
                    <th>статус</th>
                    <th>дата отпр</th>
                    <th>&nbsp;</th>
                    <th>действие</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="msg in msgPage">
                    <td>{{msg.id}}</td>
                    <td>{{msg.emailTo}}</td>
                    <td>{{msg.filename}}</td>
                    <td>{{msg.status}}</td>
                    <td>{{msg.sendDate}}</td>
                    <td>
                        <p>
                            <button class="btn btn-secondary" ng-click="updateMsg(msg.id)">
                                Обновить
                            </button>
                        </p>
                    </td>
                    <td>
                        <p>
                            <button class="btn btn-danger" ng-click="deleteMsg(msg.id)">
                                Удалить
                            </button>
                        </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>


    </div>
    <br>
    <div>
        <button class="btn btn-danger" ng-click="deleteSentMsg()">
            Удалить все отправленные
        </button>
    </div>
    <br>
    <nav class="row pages">
        <ul class="pagination">
            <li class="page-item" ng-show="pages.number > 0">
                <a class="page-link" ng-click="loadMessages(0)">В начало</a>
            </li>
            <li class="page-item" ng-repeat="pageIndex in paginationArray">
                <a class="page-link" ng-show="pages.number != pageIndex - 1"
                   ng-click="loadMessages(pageIndex)">{{pageIndex}}
                </a>
                <a class="page-link" ng-show="pages.number == pageIndex - 1" style="font-weight: bold; color: #007BFF;"
                   ng-click="loadMessages(pageIndex)">{{pageIndex}}
                </a>
            </li>
            <li class="page-item" ng-show="pages.number < pages.totalPages - 1">
                <a class="page-link" ng-click="loadMessages(pages.totalPages)">В конец</a>
            </li>
        </ul>
    </nav>
</div>